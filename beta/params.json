[
  {
    "description": "Dynamic segment with id provided",
    "path": "/user/123",
    "urlPattern": "/user/:id?",
    "expected": {
      "success": true,
      "params": {
        "id": "123"
      }
    }
  },
  {
    "description": "Dynamic segment with id provided",
    "path": "/",
    "urlPattern": "/:id",
    "expected": {
      "success": false,
      "params": {}
    }
  },
  {
    "description": "Dynamic segment missing, optional",
    "path": "/user",
    "urlPattern": "/user/:id?",
    "expected": {
      "success": true,
      "params": {
        "id": null
      }
    }
  },
  {
    "description": "Extra segment failure",
    "path": "/user/123/profile",
    "urlPattern": "/user/:id?",
    "expected": {
      "success": false,
      "params": {}
    }
  },
  {
    "description": "Static segment match",
    "path": "/about",
    "urlPattern": "/about",
    "expected": {
      "success": true,
      "params": {}
    }
  },
  {
    "description": "Static segment mismatch",
    "path": "/about/us",
    "urlPattern": "/about",
    "expected": {
      "success": false,
      "params": {}
    }
  },
  {
    "description": "Dynamic segment with uid provided in static position",
    "path": "/admin/456/settings",
    "urlPattern": "/admin/:uid/settings",
    "expected": {
      "success": true,
      "params": {
        "uid": "456"
      }
    }
  },
  {
    "description": "Optional dynamic segment missing in admin route",
    "path": "/admin/settings",
    "urlPattern": "/admin/:uid?/settings",
    "expected": {
      "success": true,
      "params": {
        "uid": null
      }
    }
  },
  {
    "description": "Wildcard capturing multiple segments",
    "path": "/files/path/to/file",
    "urlPattern": "/files/*xx",
    "expected": {
      "success": true,
      "params": {
        "xx": "path/to/file"
      }
    }
  },
  {
    "description": "Wildcard capturing empty segments",
    "path": "/files",
    "urlPattern": "/files/*",
    "expected": {
      "success": false,
      "params": {}
    }
  },
  {
    "description": "Dynamic segment in product detail",
    "path": "/product/abc/detail",
    "urlPattern": "/product/:slug/detail",
    "expected": {
      "success": true,
      "params": {
        "slug": "abc"
      }
    }
  },
  {
    "description": "Multiple dynamic segments: user and post",
    "path": "/user/42/post/100",
    "urlPattern": "/user/:userId/post/:postId",
    "expected": {
      "success": true,
      "params": {
        "userId": "42",
        "postId": "100"
      }
    }
  },
  {
    "description": "Missing dynamic segment: post id missing",
    "path": "/user/42/post",
    "urlPattern": "/user/:userId/post/:postId",
    "expected": {
      "success": false,
      "params": {}
    }
  },
  {
    "description": "Optional dynamic in middle provided",
    "path": "/shop/electronics/phones",
    "urlPattern": "/shop/:category?/phones",
    "expected": {
      "success": true,
      "params": {
        "category": "electronics"
      }
    }
  },
  {
    "description": "Optional dynamic in middle missing",
    "path": "/shop/phones",
    "urlPattern": "/shop/:category?/phones",
    "expected": {
      "success": true,
      "params": {
        "category": null
      }
    }
  },
  {
    "description": "Wildcard at end capturing empty",
    "path": "/download",
    "urlPattern": "/download/*",
    "expected": {
      "success": false,
      "params": {}
    }
  },
  {
    "description": "Wildcard at end capturing multiple segments",
    "path": "/download/files/images/logo.png",
    "urlPattern": "/download/*",
    "expected": {
      "success": true,
      "params": {
        "wildcard": "files/images/logo.png"
      }
    }
  },
  {
    "description": "Multiple optional dynamics with one provided",
    "path": "/blog/2021",
    "urlPattern": "/blog/:year?/:month?",
    "expected": {
      "success": true,
      "params": {
        "year": "2021",
        "month": null
      }
    }
  },
  {
    "description": "Multiple optional dynamics with both provided",
    "path": "/blog/2021/12",
    "urlPattern": "/blog/:year?/:month?",
    "expected": {
      "success": true,
      "params": {
        "year": "2021",
        "month": "12"
      }
    }
  },
  {
    "description": "Multiple optional dynamics with none provided",
    "path": "/blog",
    "urlPattern": "/blog/:year?/:month?",
    "expected": {
      "success": true,
      "params": {
        "year": null,
        "month": null
      }
    }
  },
  {
    "description": "Static and dynamic combination",
    "path": "/profile/john",
    "urlPattern": "/profile/:username",
    "expected": {
      "success": true,
      "params": {
        "username": "john"
      }
    }
  },
  {
    "description": "Static mismatch in dynamic combination",
    "path": "/profile/john/settings",
    "urlPattern": "/profile/:username",
    "expected": {
      "success": false,
      "params": {}
    }
  },
  {
    "description": "Extra trailing segment failure",
    "path": "/settings/account/privacy",
    "urlPattern": "/settings/account",
    "expected": {
      "success": false,
      "params": {}
    }
  },
  {
    "description": "Dynamic at start",
    "path": "/123/dashboard",
    "urlPattern": "/:userId/dashboard",
    "expected": {
      "success": true,
      "params": {
        "userId": "123"
      }
    }
  },
  {
    "description": "Dynamic at start missing segment",
    "path": "/dashboard",
    "urlPattern": "/:userId/dashboard",
    "expected": {
      "success": false,
      "params": {}
    }
  },
  {
    "description": "Optional dynamic at start provided",
    "path": "/alice/home",
    "urlPattern": "/:username?/home",
    "expected": {
      "success": true,
      "params": {
        "username": "alice"
      }
    }
  },
  {
    "description": "Optional dynamic at start missing",
    "path": "/home",
    "urlPattern": "/:username?/home",
    "expected": {
      "success": true,
      "params": {
        "username": null
      }
    }
  },
  {
    "description": "Dynamic and optional at end (optional missing)",
    "path": "/order/789",
    "urlPattern": "/order/:id/:action?",
    "expected": {
      "success": true,
      "params": {
        "id": "789",
        "action": null
      }
    }
  },
  {
    "description": "Dynamic and optional at end provided",
    "path": "/order/789/track",
    "urlPattern": "/order/:id/:action?",
    "expected": {
      "success": true,
      "params": {
        "id": "789",
        "action": "track"
      }
    }
  },
  {
    "description": "Complex pattern with multiple dynamics and static",
    "path": "/store/567/product/890",
    "urlPattern": "/store/:storeId/product/:productId",
    "expected": {
      "success": true,
      "params": {
        "storeId": "567",
        "productId": "890"
      }
    }
  },
  {
    "description": "Complex pattern failure due to extra segment",
    "path": "/store/567/product/890/review",
    "urlPattern": "/store/:storeId/product/:productId",
    "expected": {
      "success": false,
      "params": {}
    }
  },
  {
    "description": "Pattern with trailing slash in input",
    "path": "/contact/",
    "urlPattern": "/contact",
    "expected": {
      "success": true,
      "params": {}
    }
  },
  {
    "description": "Pattern with leading and trailing slashes",
    "path": "/help/",
    "urlPattern": "/help/",
    "expected": {
      "success": true,
      "params": {}
    }
  },
  {
    "description": "Wildcard with optional dynamic preceding (optional provided)",
    "path": "/docs/v1/guide/introduction",
    "urlPattern": "/docs/:version?/guide/*",
    "expected": {
      "success": true,
      "params": {
        "version": "v1",
        "wildcard": "introduction"
      }
    }
  },
  {
    "description": "Wildcard with optional dynamic preceding (optional missing)",
    "path": "/docs/guide/introduction",
    "urlPattern": "/docs/:version?/guide/*",
    "expected": {
      "success": true,
      "params": {
        "version": null,
        "wildcard": "introduction"
      }
    }
  },
  {
    "description": "Static segments only, matching exactly",
    "path": "/services/web",
    "urlPattern": "/services/web",
    "expected": {
      "success": true,
      "params": {}
    }
  },
  {
    "description": "Static segments only, mismatch",
    "path": "/services/mobile",
    "urlPattern": "/services/web",
    "expected": {
      "success": false,
      "params": {}
    }
  },
  {
    "description": "Dynamic segment with underscores",
    "path": "/item/abc_123",
    "urlPattern": "/item/:item_id",
    "expected": {
      "success": true,
      "params": {
        "item_id": "abc_123"
      }
    }
  },
  {
    "description": "Dynamic segment with invalid characters (hyphen) - may fail validation",
    "path": "/item/abc-123",
    "urlPattern": "/item/:item_id",
    "expected": {
      "success": true,
      "params": {
        "item_id": "abc-123"
      }
    }
  },
  {
    "description": "Multiple dynamic segments with similar names",
    "path": "/category/tech/subcategory/gadgets",
    "urlPattern": "/category/:cat/subcategory/:sub",
    "expected": {
      "success": true,
      "params": {
        "cat": "tech",
        "sub": "gadgets"
      }
    }
  },
  {
    "description": "Multiple dynamics with extra segment failure",
    "path": "/category/tech/subcategory/gadgets/extra",
    "urlPattern": "/category/:cat/subcategory/:sub",
    "expected": {
      "success": false,
      "params": {}
    }
  },
  {
    "description": "Optional dynamic at end missing segment",
    "path": "/profile",
    "urlPattern": "/profile/:username?",
    "expected": {
      "success": true,
      "params": {
        "username": null
      }
    }
  },
  {
    "description": "Optional dynamic in middle, provided",
    "path": "/reports/2020/summary",
    "urlPattern": "/reports/:year?/summary",
    "expected": {
      "success": true,
      "params": {
        "year": "2020"
      }
    }
  },
  {
    "description": "Optional dynamic in middle, missing",
    "path": "/reports/summary",
    "urlPattern": "/reports/:year?/summary",
    "expected": {
      "success": true,
      "params": {
        "year": null
      }
    }
  },
  {
    "description": "Dynamic segment with number",
    "path": "/invoice/789",
    "urlPattern": "/invoice/:number",
    "expected": {
      "success": true,
      "params": {
        "number": "789"
      }
    }
  },
  {
    "description": "Dynamic segment missing causing failure",
    "path": "/invoice",
    "urlPattern": "/invoice/:number",
    "expected": {
      "success": false,
      "params": {}
    }
  },
  {
    "description": "Wildcard capturing multiple levels",
    "path": "/assets/css/main.css",
    "urlPattern": "/assets/*",
    "expected": {
      "success": true,
      "params": {
        "wildcard": "css/main.css"
      }
    }
  },
  {
    "description": "Wildcard capturing empty string",
    "path": "/assets",
    "urlPattern": "/assets/*",
    "expected": {
      "success": false,
      "params": {}
    }
  },
  {
    "description": "Dynamic segment with optional trailing static (missing)",
    "path": "/checkout/complete",
    "urlPattern": "/checkout/:step?/complete",
    "expected": {
      "success": true,
      "params": {
        "step": null
      }
    }
  },
  {
    "description": "Dynamic segment with optional trailing static provided",
    "path": "/checkout/payment/complete",
    "urlPattern": "/checkout/:step?/complete",
    "expected": {
      "success": true,
      "params": {
        "step": "payment"
      }
    }
  },
  {
    "description": "Complex pattern with multiple optional dynamics (both provided)",
    "path": "/search/books/fiction",
    "urlPattern": "/search/:category?/:type?",
    "expected": {
      "success": true,
      "params": {
        "category": "books",
        "type": "fiction"
      }
    }
  },
  {
    "description": "Complex pattern with one optional missing",
    "path": "/search/books",
    "urlPattern": "/search/:category?/:type?",
    "expected": {
      "success": true,
      "params": {
        "category": "books",
        "type": null
      }
    }
  },
  {
    "description": "Complex pattern with all optional missing",
    "path": "/search",
    "urlPattern": "/search/:category?/:type?",
    "expected": {
      "success": true,
      "params": {
        "category": null,
        "type": null
      }
    }
  },
  {
    "description": "Nested dynamic segments",
    "path": "/department/sales/employee/789",
    "urlPattern": "/department/:dept/employee/:empId",
    "expected": {
      "success": true,
      "params": {
        "dept": "sales",
        "empId": "789"
      }
    }
  },
  {
    "description": "Nested dynamic segments failure due to extra segment",
    "path": "/department/sales/employee/789/details",
    "urlPattern": "/department/:dept/employee/:empId",
    "expected": {
      "success": false,
      "params": {}
    }
  },
  {
    "description": "Static segment with optional dynamic at end (missing)",
    "path": "/faq",
    "urlPattern": "/faq/:topic?",
    "expected": {
      "success": true,
      "params": {
        "topic": null
      }
    }
  },
  {
    "description": "Static segment with optional dynamic provided",
    "path": "/faq/billing",
    "urlPattern": "/faq/:topic?",
    "expected": {
      "success": true,
      "params": {
        "topic": "billing"
      }
    }
  },
  {
    "description": "Wildcard in middle capturing multiple segments",
    "path": "/media/videos/movies/action",
    "urlPattern": "/media/*/action",
    "expected": {
      "success": true,
      "params": {
        "wildcard": "videos/movies"
      }
    }
  },
  {
    "description": "Wildcard in middle capturing multiple segments",
    "path": "/media/videos/movies/action/test",
    "urlPattern": "/media/*/action/test",
    "expected": {
      "success": true,
      "params": {
        "wildcard": "videos/movies"
      }
    }
  },
  {
    "description": "Wildcard in middle capturing part",
    "path": "/api/v1/users/list",
    "urlPattern": "/api/*/list",
    "expected": {
      "success": true,
      "params": {
        "wildcard": "v1/users"
      }
    }
  },
  {
    "description": "Optional dynamic with lookahead static provided (missing)",
    "path": "/dashboard/stats",
    "urlPattern": "/dashboard/:section?/stats",
    "expected": {
      "success": true,
      "params": {
        "section": null
      }
    }
  },
  {
    "description": "Optional dynamic with lookahead static provided (with value)",
    "path": "/dashboard/overview/stats",
    "urlPattern": "/dashboard/:section?/stats",
    "expected": {
      "success": true,
      "params": {
        "section": "overview"
      }
    }
  },
  {
    "description": "Extra segments causing failure",
    "path": "/login/user/extra",
    "urlPattern": "/login/:username",
    "expected": {
      "success": false,
      "params": {}
    }
  },
  {
    "description": "Exact match with static segments",
    "path": "/privacy/policy",
    "urlPattern": "/privacy/policy",
    "expected": {
      "success": true,
      "params": {}
    }
  },
  {
    "description": "Dynamic segment with multiple words (URL-encoded or hyphenated)",
    "path": "/tag/artificial-intelligence",
    "urlPattern": "/tag/:name",
    "expected": {
      "success": true,
      "params": {
        "name": "artificial-intelligence"
      }
    }
  },
  {
    "description": "Optional dynamic at end with extra slash",
    "path": "/subscribe/",
    "urlPattern": "/subscribe/:plan?",
    "expected": {
      "success": true,
      "params": {
        "plan": null
      }
    }
  },
  {
    "description": "Dynamic segment with numeric value",
    "path": "/order/1001",
    "urlPattern": "/order/:orderId",
    "expected": {
      "success": true,
      "params": {
        "orderId": "1001"
      }
    }
  },
  {
    "description": "Multiple dynamics and optionals provided",
    "path": "/event/2022/07/04",
    "urlPattern": "/event/:year/:month?/:day?",
    "expected": {
      "success": true,
      "params": {
        "year": "2022",
        "month": "07",
        "day": "04"
      }
    }
  },
  {
    "description": "Multiple dynamics with optionals missing",
    "path": "/event/2022",
    "urlPattern": "/event/:year/:month?/:day?",
    "expected": {
      "success": true,
      "params": {
        "year": "2022",
        "month": null,
        "day": null
      }
    }
  },
  {
    "description": "Single static segment match",
    "path": "/home",
    "urlPattern": "/home",
    "expected": {
      "success": true,
      "params": {}
    }
  },
  {
    "description": "Single static segment mismatch",
    "path": "/homepage",
    "urlPattern": "/home",
    "expected": {
      "success": false,
      "params": {}
    }
  },
  {
    "description": "Dynamic at end with optional preceding missing",
    "path": "/cart/checkout",
    "urlPattern": "/cart/:step?/checkout",
    "expected": {
      "success": true,
      "params": {
        "step": null
      }
    }
  },
  {
    "description": "Dynamic at end with optional preceding provided",
    "path": "/cart/review/checkout",
    "urlPattern": "/cart/:step?/checkout",
    "expected": {
      "success": true,
      "params": {
        "step": "review"
      }
    }
  },
  {
    "description": "Static with extra trailing slash in path",
    "path": "/contact/us/",
    "urlPattern": "/contact/us",
    "expected": {
      "success": true,
      "params": {}
    }
  },
  {
    "description": "Dynamic with trailing slash in pattern",
    "path": "/profile/mike",
    "urlPattern": "/profile/:name/",
    "expected": {
      "success": true,
      "params": {
        "name": "mike"
      }
    }
  },
  {
    "description": "Optional dynamic with trailing slash in both",
    "path": "/settings/",
    "urlPattern": "/settings/:option?",
    "expected": {
      "success": true,
      "params": {
        "option": null
      }
    }
  },
  {
    "description": "Dynamic with multiple segments and trailing slashes",
    "path": "/blog/2023/first-post/",
    "urlPattern": "/blog/:year/:slug",
    "expected": {
      "success": true,
      "params": {
        "year": "2023",
        "slug": "first-post"
      }
    }
  },
  {
    "description": "Dynamic with extra segment due to trailing slash issues",
    "path": "/blog/2023/first-post/comment",
    "urlPattern": "/blog/:year/:slug",
    "expected": {
      "success": false,
      "params": {}
    }
  },
  {
    "description": "Static with query-like pattern (query part ignored)",
    "path": "/search",
    "urlPattern": "/search",
    "expected": {
      "success": true,
      "params": {}
    }
  },
  {
    "description": "Dynamic segment with leading zeros",
    "path": "/invoice/007",
    "urlPattern": "/invoice/:num",
    "expected": {
      "success": true,
      "params": {
        "num": "007"
      }
    }
  },
  {
    "description": "Optional dynamic with similar static following (missing)",
    "path": "/report/summary",
    "urlPattern": "/report/:type?/summary",
    "expected": {
      "success": true,
      "params": {
        "type": null
      }
    }
  },
  {
    "description": "Optional dynamic with similar static following provided",
    "path": "/report/daily/summary",
    "urlPattern": "/report/:type?/summary",
    "expected": {
      "success": true,
      "params": {
        "type": "daily"
      }
    }
  },
  {
    "description": "Dynamic segment with alphanumeric mix",
    "path": "/promo/abc123",
    "urlPattern": "/promo/:code",
    "expected": {
      "success": true,
      "params": {
        "code": "abc123"
      }
    }
  },
  {
    "description": "Dynamic segment with hyphen (if allowed)",
    "path": "/promo/abc-123",
    "urlPattern": "/promo/:code",
    "expected": {
      "success": true,
      "params": {
        "code": "abc-123"
      }
    }
  },
  {
    "description": "Static mismatch due to case sensitivity",
    "path": "/Contact",
    "urlPattern": "/contact",
    "expected": {
      "success": false,
      "params": {}
    }
  },
  {
    "description": "Dynamic segment with mixed case",
    "path": "/User/ABC",
    "urlPattern": "/User/:id",
    "expected": {
      "success": true,
      "params": {
        "id": "ABC"
      }
    }
  },
  {
    "description": "Optional dynamic when path has no extra segment",
    "path": "/store",
    "urlPattern": "/store/:section?",
    "expected": {
      "success": true,
      "params": {
        "section": null
      }
    }
  },
  {
    "description": "Optional dynamic with extra trailing segment should fail",
    "path": "/store/extra/segment",
    "urlPattern": "/store/:section?",
    "expected": {
      "success": false,
      "params": {}
    }
  },
  {
    "description": "Wildcard capturing root-level extra segments",
    "path": "/misc/anything/here",
    "urlPattern": "/*",
    "expected": {
      "success": true,
      "params": {
        "wildcard": "misc/anything/here"
      }
    }
  },
  {
    "description": "Wildcard capturing when path is empty",
    "path": "",
    "urlPattern": "/*",
    "expected": {
      "success": false,
      "params": {}
    }
  },
  {
    "description": "Dynamic segment with URL-encoded space",
    "path": "/user/John%20Doe",
    "urlPattern": "/user/:name",
    "expected": {
      "success": true,
      "params": {
        "name": "John%20Doe"
      }
    }
  },
  {
    "description": "Optional dynamic with URL-encoded space missing",
    "path": "/user",
    "urlPattern": "/user/:name?",
    "expected": {
      "success": true,
      "params": {
        "name": null
      }
    }
  },
  {
    "description": "Static route with dash",
    "path": "/new-feature",
    "urlPattern": "/new-feature",
    "expected": {
      "success": true,
      "params": {}
    }
  },
  {
    "description": "Dynamic segment with numeric string",
    "path": "/serial/123456",
    "urlPattern": "/serial/:code",
    "expected": {
      "success": true,
      "params": {
        "code": "123456"
      }
    }
  },
  {
    "description": "Static route mismatch due to extra segment",
    "path": "/faq/general/info",
    "urlPattern": "/faq/general",
    "expected": {
      "success": false,
      "params": {}
    }
  },
  {
    "description": "Dynamic with optional followed by static (optional missing)",
    "path": "/support/ticket",
    "urlPattern": "/support/:id?/ticket",
    "expected": {
      "success": true,
      "params": {
        "id": null
      }
    }
  },
  {
    "description": "Dynamic with optional followed by static provided",
    "path": "/support/321/ticket",
    "urlPattern": "/support/:id?/ticket",
    "expected": {
      "success": true,
      "params": {
        "id": "321"
      }
    }
  },
  {
    "description": "Dynamic at beginning and end",
    "path": "/a/123/z",
    "urlPattern": "/:first/:middle/:last",
    "expected": {
      "success": true,
      "params": {
        "first": "a",
        "middle": "123",
        "last": "z"
      }
    }
  },
  {
    "description": "Optional dynamic in the middle missing",
    "path": "/a/z",
    "urlPattern": "/:first/:middle?/:last",
    "expected": {
      "success": true,
      "params": {
        "first": "a",
        "middle": null,
        "last": "z"
      }
    }
  },
  {
    "description": "Exact match with multiple static segments",
    "path": "/terms/conditions/privacy",
    "urlPattern": "/terms/conditions/privacy",
    "expected": {
      "success": true,
      "params": {}
    }
  },
  {
    "description": "Mismatch in multiple static segments",
    "path": "/terms/conditions/security",
    "urlPattern": "/terms/conditions/privacy",
    "expected": {
      "success": false,
      "params": {}
    }
  },
  {
    "description": "Dynamic segment with optional trailing wildcard",
    "path": "/music/rock/classic",
    "urlPattern": "/music/:genre?/*",
    "expected": {
      "success": true,
      "params": {
        "genre": "rock",
        "wildcard": "classic"
      }
    }
  },
  {
    "description": "Optional dynamic and wildcard both missing segments",
    "path": "/blog",
    "urlPattern": "/blog/:category?/*",
    "expected": {
      "success": false,
      "params": {}
    }
  },
  {
    "description": "Optional dynamic provided and wildcard empty",
    "path": "/blog/tech",
    "urlPattern": "/blog/:category?/*",
    "expected": {
      "success": true,
      "params": {
        "category": null,
        "wildcard": "tech"
      }
    }
  },
  {
    "description": "Optional dynamic provided with wildcard capturing extra",
    "path": "/blog/tech/javascript/tutorials",
    "urlPattern": "/blog/:category?/*",
    "expected": {
      "success": true,
      "params": {
        "category": "tech",
        "wildcard": "javascript/tutorials"
      }
    }
  },
  {
    "description": "Wildcard at beginning capturing entire path",
    "path": "/anything/goes/here",
    "urlPattern": "/*",
    "expected": {
      "success": true,
      "params": {
        "wildcard": "anything/goes/here"
      }
    }
  },
  {
    "description": "Dynamic segment with trailing static segment mismatch",
    "path": "/order/555/confirm",
    "urlPattern": "/order/:id/complete",
    "expected": {
      "success": false,
      "params": {}
    }
  },
  {
    "description": "Multiple dynamic segments with extra wildcard segment",
    "path": "/user/88/edit/info",
    "urlPattern": "/user/:id/edit/*",
    "expected": {
      "success": true,
      "params": {
        "id": "88",
        "wildcard": "info"
      }
    }
  },
  {
    "description": "Dynamic segment with extra segments and no wildcard",
    "path": "/user/88/edit/info",
    "urlPattern": "/user/:id/edit",
    "expected": {
      "success": false,
      "params": {}
    }
  },
  {
    "description": "Dynamic segment with numeric string and trailing slash",
    "path": "/invoice/2020/",
    "urlPattern": "/invoice/:year",
    "expected": {
      "success": true,
      "params": {
        "year": "2020"
      }
    }
  },
  {
    "description": "Static segments with optional dynamic in middle provided",
    "path": "/store/electronics/checkout",
    "urlPattern": "/store/:department?/checkout",
    "expected": {
      "success": true,
      "params": {
        "department": "electronics"
      }
    }
  },
  {
    "description": "Static segments with optional dynamic in middle missing",
    "path": "/store/checkout",
    "urlPattern": "/store/:department?/checkout",
    "expected": {
      "success": true,
      "params": {
        "department": null
      }
    }
  },
  {
    "description": "Complex mix with multiple dynamics and optional missing",
    "path": "/campus/buildingA/room/101",
    "urlPattern": "/campus/:campus?/building/:building/room/:room",
    "expected": {
      "success": false,
      "params": {}
    }
  },
  {
    "description": "Complex mix with multiple dynamics and optional provided",
    "path": "/campus/main/buildingB/room/202",
    "urlPattern": "/campus/:campus?/building/:building/room/:room",
    "expected": {
      "success": false,
      "params": {}
    }
  },
  {
    "description": "Trailing wildcard capturing multiple segments in deep path",
    "path": "/api/v2/data/records/2021",
    "urlPattern": "/api/*",
    "expected": {
      "success": true,
      "params": {
        "wildcard": "v2/data/records/2021"
      }
    }
  },
  {
    "description": "Dynamic segment where static segment in pattern mismatches",
    "path": "/profile/jane/settings",
    "urlPattern": "/profile/:name/overview",
    "expected": {
      "success": false,
      "params": {}
    }
  },
  {
    "description": "Dynamic segment with optional trailing missing static segment",
    "path": "/account",
    "urlPattern": "/account/:section?",
    "expected": {
      "success": true,
      "params": {
        "section": null
      }
    }
  },
  {
    "description": "Dynamic segment with optional trailing provided and extra slash",
    "path": "/account/summary/",
    "urlPattern": "/account/:section?",
    "expected": {
      "success": true,
      "params": {
        "section": "summary"
      }
    }
  },
  {
    "description": "Dynamic segment with valid underscore and number",
    "path": "/item/item_123",
    "urlPattern": "/item/:item_code",
    "expected": {
      "success": true,
      "params": {
        "item_code": "item_123"
      }
    }
  },
  {
    "description": "Dynamic segment with extra path segment causing failure",
    "path": "/contact/support/help",
    "urlPattern": "/contact/:dept",
    "expected": {
      "success": false,
      "params": {}
    }
  },
  {
    "description": "Static route with similar path but extra optional parameter at end",
    "path": "/about/company",
    "urlPattern": "/about/company/:detail?",
    "expected": {
      "success": true,
      "params": {
        "detail": null
      }
    }
  },
  {
    "description": "Static route with similar path with optional parameter provided",
    "path": "/about/company/history",
    "urlPattern": "/about/company/:detail?",
    "expected": {
      "success": true,
      "params": {
        "detail": "history"
      }
    }
  },
  {
    "description": "Path with multiple adjacent optional dynamics provided",
    "path": "/service/cleaning/garden",
    "urlPattern": "/service/:type?/:area?",
    "expected": {
      "success": true,
      "params": {
        "type": "cleaning",
        "area": "garden"
      }
    }
  },
  {
    "description": "Path with multiple adjacent optional dynamics missing second",
    "path": "/service/cleaning",
    "urlPattern": "/service/:type?/:area?",
    "expected": {
      "success": true,
      "params": {
        "type": "cleaning",
        "area": null
      }
    }
  },
  {
    "description": "Path with multiple adjacent optional dynamics both missing",
    "path": "/service",
    "urlPattern": "/service/:type?/:area?",
    "expected": {
      "success": true,
      "params": {
        "type": null,
        "area": null
      }
    }
  },
  {
    "description": "Dynamic segment followed by static segment matching exactly",
    "path": "/order/321/complete",
    "urlPattern": "/order/:id/complete",
    "expected": {
      "success": true,
      "params": {
        "id": "321"
      }
    }
  },
  {
    "description": "Dynamic segment followed by static segment with mismatch",
    "path": "/order/321/cancel",
    "urlPattern": "/order/:id/complete",
    "expected": {
      "success": false,
      "params": {}
    }
  },
  {
    "description": "Optional dynamic at beginning with wildcard after",
    "path": "/:rootSegment/folder/file",
    "urlPattern": "/:rootSegment?/*",
    "expected": {
      "success": true,
      "params": {
        "rootSegment": ":rootSegment",
        "wildcard": "folder/file"
      }
    }
  },
  {
    "description": "Only wildcard with optional dynamic missing at beginning",
    "path": "/folder/file",
    "urlPattern": "/:rootSegment?/*",
    "expected": {
      "success": true,
      "params": {
        "rootSegment": "folder",
        "wildcard": "file"
      }
    }
  },
  {
    "description": "Optional dynamic provided with similar following static segment",
    "path": "/news/today/highlights",
    "urlPattern": "/news/:day?/highlights",
    "expected": {
      "success": true,
      "params": {
        "day": "today"
      }
    }
  },
  {
    "description": "Optional dynamic missing with similar following static segment",
    "path": "/news/highlights",
    "urlPattern": "/news/:day?/highlights",
    "expected": {
      "success": true,
      "params": {
        "day": null
      }
    }
  },
  {
    "description": "Dynamic with extra adjacent static causing failure",
    "path": "/dashboard/user/settings/extra",
    "urlPattern": "/dashboard/:user/settings",
    "expected": {
      "success": false,
      "params": {}
    }
  },
  {
    "description": "Static route with trailing wildcard capturing nothing",
    "path": "/legal/terms",
    "urlPattern": "/legal/terms/*",
    "expected": {
      "success": false,
      "params": {}
    }
  },
  {
    "description": "Dynamic route with dash and optional parameter",
    "path": "/promo/summer-sale",
    "urlPattern": "/promo/:offer?",
    "expected": {
      "success": true,
      "params": {
        "offer": "summer-sale"
      }
    }
  },
  {
    "description": "Dynamic route with dash and optional parameter missing",
    "path": "/promo",
    "urlPattern": "/promo/:offer?",
    "expected": {
      "success": true,
      "params": {
        "offer": null
      }
    }
  },
  {
    "description": "Optional dynamic with multiple dashes in path",
    "path": "/event/music-festival",
    "urlPattern": "/event/:name?",
    "expected": {
      "success": true,
      "params": {
        "name": "music-festival"
      }
    }
  },
  {
    "description": "Static route with uppercase letters mismatch",
    "path": "/About/Us",
    "urlPattern": "/about/us",
    "expected": {
      "success": false,
      "params": {}
    }
  },
  {
    "description": "Dynamic segment with mixed alphanumeric and underscore",
    "path": "/item/AB_12_cd",
    "urlPattern": "/item/:code",
    "expected": {
      "success": true,
      "params": {
        "code": "AB_12_cd"
      }
    }
  },
  {
    "description": "Dynamic segment with trailing wildcard capturing similar segments",
    "path": "/video/123/clip/extra/part",
    "urlPattern": "/video/:id/*",
    "expected": {
      "success": true,
      "params": {
        "id": "123",
        "wildcard": "clip/extra/part"
      }
    }
  },
  {
    "description": "Wildcard only route with empty path",
    "path": "",
    "urlPattern": "/*",
    "expected": {
      "success": false,
      "params": {}
    }
  },
  {
    "description": "Dynamic segment with long numeric string",
    "path": "/transaction/9876543210",
    "urlPattern": "/transaction/:id",
    "expected": {
      "success": true,
      "params": {
        "id": "9876543210"
      }
    }
  },
  {
    "description": "Dynamic and static mix with optional in between missing",
    "path": "/cart/confirm",
    "urlPattern": "/cart/:step?/confirm",
    "expected": {
      "success": true,
      "params": {
        "step": null
      }
    }
  },
  {
    "description": "Dynamic and static mix with optional in between provided",
    "path": "/cart/review/confirm",
    "urlPattern": "/cart/:step?/confirm",
    "expected": {
      "success": true,
      "params": {
        "step": "review"
      }
    }
  },
  {
    "description": "Static segments with extra optional dynamic failing",
    "path": "/support/contact/us",
    "urlPattern": "/support/contact",
    "expected": {
      "success": false,
      "params": {}
    }
  },
  {
    "description": "Dynamic segment in the middle with leading static and trailing wildcard",
    "path": "/shop/electronics/mobile/phones",
    "urlPattern": "/shop/:department/*",
    "expected": {
      "success": true,
      "params": {
        "department": "electronics",
        "wildcard": "mobile/phones"
      }
    }
  },
  {
    "description": "Dynamic segment with optional trailing missing, extra static segment",
    "path": "/blog/tech",
    "urlPattern": "/blog/:category?/latest",
    "expected": {
      "success": false,
      "params": {}
    }
  },
  {
    "description": "Exact match with no dynamics and extra trailing slash in pattern",
    "path": "/contact",
    "urlPattern": "/contact/",
    "expected": {
      "success": true,
      "params": {}
    }
  },
  {
    "description": "Dynamic segment with optional ending, path includes extra slash",
    "path": "/profile/jack/",
    "urlPattern": "/profile/:name",
    "expected": {
      "success": true,
      "params": {
        "name": "jack"
      }
    }
  },
  {
    "description": "Static route with no dynamics and multiple slashes in path",
    "path": "legal/policy",
    "urlPattern": "/legal/policy",
    "expected": {
      "success": true,
      "params": {}
    }
  },
  {
    "description": "Dynamic with optional and wildcard in complex nested path",
    "path": "/api/v3/users/active/list",
    "urlPattern": "/api/:version?/users/*",
    "expected": {
      "success": true,
      "params": {
        "version": "v3",
        "wildcard": "active/list"
      }
    }
  },
  {
    "description": "Optional dynamic with numeric value missing",
    "path": "/rating",
    "urlPattern": "/rating/:score?",
    "expected": {
      "success": true,
      "params": {
        "score": null
      }
    }
  },
  {
    "description": "Dynamic segment with letters and numbers in mid-route",
    "path": "/promo/offer123/deals",
    "urlPattern": "/promo/:offer/deals",
    "expected": {
      "success": true,
      "params": {
        "offer": "offer123"
      }
    }
  },
  {
    "description": "Simple static route match",
    "path": "/foo",
    "urlPattern": "/foo",
    "expected": {
      "success": true,
      "params": {}
    }
  },
  {
    "description": "Simple static route mismatch",
    "path": "/foo",
    "urlPattern": "/bar",
    "expected": {
      "success": false,
      "params": {}
    }
  },
  {
    "description": "Dynamic segment provided",
    "path": "/foo/bar",
    "urlPattern": "/foo/:param",
    "expected": {
      "success": true,
      "params": {
        "param": "bar"
      }
    }
  },
  {
    "description": "Dynamic segment missing",
    "path": "/foo",
    "urlPattern": "/foo/:param",
    "expected": {
      "success": false,
      "params": {}
    }
  },
  {
    "description": "Optional dynamic provided",
    "path": "/foo/bar",
    "urlPattern": "/foo/:param?",
    "expected": {
      "success": true,
      "params": {
        "param": "bar"
      }
    }
  },
  {
    "description": "Optional dynamic missing",
    "path": "/foo",
    "urlPattern": "/foo/:param?",
    "expected": {
      "success": true,
      "params": {
        "param": null
      }
    }
  },
  {
    "description": "Wildcard at end with extra segments",
    "path": "/foo/bar/baz",
    "urlPattern": "/foo/*",
    "expected": {
      "success": true,
      "params": {
        "wildcard": "bar/baz"
      }
    }
  },
  {
    "description": "Wildcard with no extra segments",
    "path": "/foo",
    "urlPattern": "/foo/*",
    "expected": {
      "success": false,
      "params": {}
    }
  },
  {
    "description": "Dynamic segment with trailing static segment",
    "path": "/foo/bar/baz",
    "urlPattern": "/foo/:param/baz",
    "expected": {
      "success": true,
      "params": {
        "param": "bar"
      }
    }
  },
  {
    "description": "Dynamic segment with trailing static mismatch",
    "path": "/foo/bar/qux",
    "urlPattern": "/foo/:param/baz",
    "expected": {
      "success": false,
      "params": {}
    }
  },
  {
    "description": "Multiple dynamic segments",
    "path": "/a/b/c",
    "urlPattern": "/:x/:y/:z",
    "expected": {
      "success": true,
      "params": {
        "x": "a",
        "y": "b",
        "z": "c"
      }
    }
  },
  {
    "description": "Multiple dynamic segments missing one",
    "path": "/a/b",
    "urlPattern": "/:x/:y/:z",
    "expected": {
      "success": false,
      "params": {}
    }
  },
  {
    "description": "Optional dynamic in middle provided",
    "path": "/a/b/c",
    "urlPattern": "/a/:mid?/c",
    "expected": {
      "success": true,
      "params": {
        "mid": "b"
      }
    }
  },
  {
    "description": "Optional dynamic in middle missing",
    "path": "/a/c",
    "urlPattern": "/a/:mid?/c",
    "expected": {
      "success": true,
      "params": {
        "mid": null
      }
    }
  },
  {
    "description": "Optional dynamic in middle with extra segment",
    "path": "/a/b/c/d",
    "urlPattern": "/a/:mid?/c",
    "expected": {
      "success": false,
      "params": {}
    }
  },
  {
    "description": "Wildcard capturing empty",
    "path": "/a",
    "urlPattern": "/a/*",
    "expected": {
      "success": false,
      "params": {}
    }
  },
  {
    "description": "Dynamic and wildcard combination",
    "path": "/a/b/c/d",
    "urlPattern": "/a/:param/*",
    "expected": {
      "success": true,
      "params": {
        "param": "b",
        "wildcard": "c/d"
      }
    }
  },
  {
    "description": "Wildcard only route",
    "path": "/a/b",
    "urlPattern": "/*",
    "expected": {
      "success": true,
      "params": {
        "wildcard": "a/b"
      }
    }
  },
  {
    "description": "Optional dynamic and trailing static missing",
    "path": "/a/static",
    "urlPattern": "/a/:opt?/static",
    "expected": {
      "success": true,
      "params": {
        "opt": null
      }
    }
  },
  {
    "description": "Optional dynamic provided and trailing static",
    "path": "/a/opt/static",
    "urlPattern": "/a/:opt?/static",
    "expected": {
      "success": true,
      "params": {
        "opt": "opt"
      }
    }
  },
  {
    "description": "Complex route: users and posts",
    "path": "/users/42/posts/10",
    "urlPattern": "/users/:userId/posts/:postId",
    "expected": {
      "success": true,
      "params": {
        "userId": "42",
        "postId": "10"
      }
    }
  },
  {
    "description": "Complex route missing dynamic segment",
    "path": "/users/42/posts",
    "urlPattern": "/users/:userId/posts/:postId",
    "expected": {
      "success": false,
      "params": {}
    }
  },
  {
    "description": "Dynamic with optional at end missing",
    "path": "/users/42",
    "urlPattern": "/users/:userId/:action?",
    "expected": {
      "success": true,
      "params": {
        "userId": "42",
        "action": null
      }
    }
  },
  {
    "description": "Dynamic with optional at end provided",
    "path": "/users/42/edit",
    "urlPattern": "/users/:userId/:action?",
    "expected": {
      "success": true,
      "params": {
        "userId": "42",
        "action": "edit"
      }
    }
  },
  {
    "description": "Static route with extra trailing slash",
    "path": "/contact/",
    "urlPattern": "/contact",
    "expected": {
      "success": true,
      "params": {}
    }
  },
  {
    "description": "Static route with extra segments",
    "path": "/contact/info",
    "urlPattern": "/contact",
    "expected": {
      "success": false,
      "params": {}
    }
  },
  {
    "description": "Dynamic with numeric value",
    "path": "/item/12345",
    "urlPattern": "/item/:id",
    "expected": {
      "success": true,
      "params": {
        "id": "12345"
      }
    }
  },
  {
    "description": "Dynamic with alphanumeric value",
    "path": "/item/abc123",
    "urlPattern": "/item/:id",
    "expected": {
      "success": true,
      "params": {
        "id": "abc123"
      }
    }
  },
  {
    "description": "Optional dynamic with numeric missing",
    "path": "/item",
    "urlPattern": "/item/:id?",
    "expected": {
      "success": true,
      "params": {
        "id": null
      }
    }
  },
  {
    "description": "Wildcard capturing multiple segments",
    "path": "/download/images/2020/photo.jpg",
    "urlPattern": "/download/*",
    "expected": {
      "success": true,
      "params": {
        "wildcard": "images/2020/photo.jpg"
      }
    }
  },
  {
    "description": "Wildcard capturing none",
    "path": "/download",
    "urlPattern": "/download/*",
    "expected": {
      "success": false,
      "params": {}
    }
  },
  {
    "description": "Optional dynamic in beginning missing",
    "path": "/home",
    "urlPattern": "/:user?/home",
    "expected": {
      "success": true,
      "params": {
        "user": null
      }
    }
  },
  {
    "description": "Optional dynamic in beginning provided",
    "path": "/alice/home",
    "urlPattern": "/:user?/home",
    "expected": {
      "success": true,
      "params": {
        "user": "alice"
      }
    }
  },
  {
    "description": "Multiple optional dynamics provided",
    "path": "/blog/2021/05",
    "urlPattern": "/blog/:year?/:month?",
    "expected": {
      "success": true,
      "params": {
        "year": "2021",
        "month": "05"
      }
    }
  },
  {
    "description": "Multiple optional dynamics all missing",
    "path": "/blog",
    "urlPattern": "/blog/:year?/:month?",
    "expected": {
      "success": true,
      "params": {
        "year": null,
        "month": null
      }
    }
  },
  {
    "description": "Complex nested route, dynamic provided",
    "path": "/company/department/sales",
    "urlPattern": "/company/department/:name",
    "expected": {
      "success": true,
      "params": {
        "name": "sales"
      }
    }
  },
  {
    "description": "Complex nested route missing dynamic",
    "path": "/company/department",
    "urlPattern": "/company/department/:name",
    "expected": {
      "success": false,
      "params": {}
    }
  },
  {
    "description": "Dynamic in middle with static prefix and suffix",
    "path": "/a/b/c",
    "urlPattern": "/a/:middle/c",
    "expected": {
      "success": true,
      "params": {
        "middle": "b"
      }
    }
  },
  {
    "description": "Dynamic in middle with static prefix and suffix mismatch",
    "path": "/a/b/d",
    "urlPattern": "/a/:middle/c",
    "expected": {
      "success": false,
      "params": {}
    }
  },
  {
    "description": "Optional dynamic with static lookahead, provided",
    "path": "/a/b/c",
    "urlPattern": "/a/:opt?/c",
    "expected": {
      "success": true,
      "params": {
        "opt": "b"
      }
    }
  },
  {
    "description": "Optional dynamic with static lookahead, missing",
    "path": "/a/c",
    "urlPattern": "/a/:opt?/c",
    "expected": {
      "success": true,
      "params": {
        "opt": null
      }
    }
  },
  {
    "description": "Wildcard with no preceding segments",
    "path": "/random/path",
    "urlPattern": "/*",
    "expected": {
      "success": true,
      "params": {
        "wildcard": "random/path"
      }
    }
  },
  {
    "description": "Static route with optional dynamic trailing slash",
    "path": "/about/",
    "urlPattern": "/about/:info?",
    "expected": {
      "success": true,
      "params": {
        "info": null
      }
    }
  },
  {
    "description": "Dynamic and optional mix with extra slash",
    "path": "/promo/offer/",
    "urlPattern": "/promo/:offer?",
    "expected": {
      "success": true,
      "params": {
        "offer": "offer"
      }
    }
  },
  {
    "description": "Dynamic with special characters",
    "path": "/test/@special!",
    "urlPattern": "/test/:param",
    "expected": {
      "success": true,
      "params": {
        "param": "@special!"
      }
    }
  },
  {
    "description": "Optional dynamic with special characters missing",
    "path": "/test",
    "urlPattern": "/test/:param?",
    "expected": {
      "success": true,
      "params": {
        "param": null
      }
    }
  },
  {
    "description": "Static with numeric segments matching",
    "path": "/2021/summary",
    "urlPattern": "/2021/summary",
    "expected": {
      "success": true,
      "params": {}
    }
  },
  {
    "description": "Static with numeric segments mismatch",
    "path": "/2021/report",
    "urlPattern": "/2021/summary",
    "expected": {
      "success": false,
      "params": {}
    }
  },
  {
    "description": "Multiple dynamics with numeric and text",
    "path": "/order/789/item/456",
    "urlPattern": "/order/:orderId/item/:itemId",
    "expected": {
      "success": true,
      "params": {
        "orderId": "789",
        "itemId": "456"
      }
    }
  },
  {
    "description": "Dynamic with optional trailing wildcard (wildcard empty)",
    "path": "/gallery/album",
    "urlPattern": "/gallery/:album?/*",
    "expected": {
      "success": true,
      "params": {
        "album": null,
        "wildcard": "album"
      }
    }
  },
  {
    "description": "Dynamic with optional trailing wildcard provided",
    "path": "/gallery/holiday/album",
    "urlPattern": "/gallery/:album?/*",
    "expected": {
      "success": true,
      "params": {
        "album": "holiday",
        "wildcard": "album"
      }
    }
  },
  {
    "description": "Static route with numeric optional provided",
    "path": "/promo/2021",
    "urlPattern": "/promo/:year?",
    "expected": {
      "success": true,
      "params": {
        "year": "2021"
      }
    }
  },
  {
    "description": "Static route with numeric optional missing",
    "path": "/promo",
    "urlPattern": "/promo/:year?",
    "expected": {
      "success": true,
      "params": {
        "year": null
      }
    }
  },
  {
    "description": "Dynamic with double wildcard",
    "path": "/api/v1/resource/extra/info",
    "urlPattern": "/api/:version/*",
    "expected": {
      "success": true,
      "params": {
        "version": "v1",
        "wildcard": "resource/extra/info"
      }
    }
  },
  {
    "description": "Dynamic with extra segments and no wildcard",
    "path": "/api/v1/resource",
    "urlPattern": "/api/:version",
    "expected": {
      "success": false,
      "params": {}
    }
  },
  {
    "description": "Route with trailing static segment match",
    "path": "/store/cart/checkout",
    "urlPattern": "/store/cart/checkout",
    "expected": {
      "success": true,
      "params": {}
    }
  },
  {
    "description": "Route with trailing static segment mismatch",
    "path": "/store/cart/pay",
    "urlPattern": "/store/cart/checkout",
    "expected": {
      "success": false,
      "params": {}
    }
  },
  {
    "description": "Dynamic segment with underscore",
    "path": "/user/john_doe",
    "urlPattern": "/user/:username",
    "expected": {
      "success": true,
      "params": {
        "username": "john_doe"
      }
    }
  },
  {
    "description": "Dynamic segment with dot",
    "path": "/file/report.pdf",
    "urlPattern": "/file/:filename",
    "expected": {
      "success": true,
      "params": {
        "filename": "report.pdf"
      }
    }
  },
  {
    "description": "Optional dynamic with dot in value",
    "path": "/version/1.0",
    "urlPattern": "/version/:num?",
    "expected": {
      "success": true,
      "params": {
        "num": "1.0"
      }
    }
  },
  {
    "description": "Optional dynamic with dot missing",
    "path": "/version",
    "urlPattern": "/version/:num?",
    "expected": {
      "success": true,
      "params": {
        "num": null
      }
    }
  },
  {
    "description": "Static with multiple trailing slashes",
    "path": "/docs///",
    "urlPattern": "/docs",
    "expected": {
      "success": true,
      "params": {}
    }
  },
  {
    "description": "Dynamic with extra slash",
    "path": "/docs/guide/",
    "urlPattern": "/docs/:topic",
    "expected": {
      "success": true,
      "params": {
        "topic": "guide"
      }
    }
  },
  {
    "description": "Optional dynamic with extra slashes",
    "path": "/docs/",
    "urlPattern": "/docs/:topic?",
    "expected": {
      "success": true,
      "params": {
        "topic": null
      }
    }
  },
  {
    "description": "Wildcard in a complex route",
    "path": "/assets/js/app/main.js",
    "urlPattern": "/assets/*",
    "expected": {
      "success": true,
      "params": {
        "wildcard": "js/app/main.js"
      }
    }
  },
  {
    "description": "Dynamic in nested folder provided",
    "path": "/blog/2022/awesome-post",
    "urlPattern": "/blog/:year/:slug",
    "expected": {
      "success": true,
      "params": {
        "year": "2022",
        "slug": "awesome-post"
      }
    }
  },
  {
    "description": "Dynamic in nested folder missing one",
    "path": "/blog/2022",
    "urlPattern": "/blog/:year/:slug",
    "expected": {
      "success": false,
      "params": {}
    }
  },
  {
    "description": "Static with numeric dynamic matching",
    "path": "/code/404",
    "urlPattern": "/code/:error",
    "expected": {
      "success": true,
      "params": {
        "error": "404"
      }
    }
  },
  {
    "description": "Static with numeric dynamic mismatch",
    "path": "/code/200",
    "urlPattern": "/code/404",
    "expected": {
      "success": false,
      "params": {}
    }
  },
  {
    "description": "Dynamic with hyphen in value",
    "path": "/category/health-fitness",
    "urlPattern": "/category/:name",
    "expected": {
      "success": true,
      "params": {
        "name": "health-fitness"
      }
    }
  },
  {
    "description": "Dynamic with hyphen missing",
    "path": "/category",
    "urlPattern": "/category/:name",
    "expected": {
      "success": false,
      "params": {}
    }
  },
  {
    "description": "Optional dynamic with hyphen provided",
    "path": "/tag/tech-news",
    "urlPattern": "/tag/:tagName?",
    "expected": {
      "success": true,
      "params": {
        "tagName": "tech-news"
      }
    }
  },
  {
    "description": "Optional dynamic with hyphen missing",
    "path": "/tag",
    "urlPattern": "/tag/:tagName?",
    "expected": {
      "success": true,
      "params": {
        "tagName": null
      }
    }
  },
  {
    "description": "Complex route with multiple optionals provided",
    "path": "/music/rock/70s",
    "urlPattern": "/music/:genre?/:decade?",
    "expected": {
      "success": true,
      "params": {
        "genre": "rock",
        "decade": "70s"
      }
    }
  },
  {
    "description": "Complex route with one optional missing",
    "path": "/music/rock",
    "urlPattern": "/music/:genre?/:decade?",
    "expected": {
      "success": true,
      "params": {
        "genre": "rock",
        "decade": null
      }
    }
  },
  {
    "description": "Complex route with both optionals missing",
    "path": "/music",
    "urlPattern": "/music/:genre?/:decade?",
    "expected": {
      "success": true,
      "params": {
        "genre": null,
        "decade": null
      }
    }
  },
  {
    "description": "Dynamic with trailing number",
    "path": "/invoice/2021",
    "urlPattern": "/invoice/:num",
    "expected": {
      "success": true,
      "params": {
        "num": "2021"
      }
    }
  },
  {
    "description": "Dynamic with trailing text mismatch",
    "path": "/invoice/2021/paid",
    "urlPattern": "/invoice/:num",
    "expected": {
      "success": false,
      "params": {}
    }
  },
  {
    "description": "Wildcard capturing multiple subdirectories",
    "path": "/docs/api/v1/overview",
    "urlPattern": "/docs/*",
    "expected": {
      "success": true,
      "params": {
        "wildcard": "api/v1/overview"
      }
    }
  },
  {
    "description": "Optional dynamic with trailing wildcard empty",
    "path": "/help",
    "urlPattern": "/help/:topic?/*",
    "expected": {
      "success": false,
      "params": {}
    }
  },
  {
    "description": "Optional dynamic with trailing wildcard provided",
    "path": "/help/setup/config",
    "urlPattern": "/help/:topic?/*",
    "expected": {
      "success": true,
      "params": {
        "topic": "setup",
        "wildcard": "config"
      }
    }
  },
  {
    "description": "Dynamic followed by optional and static (optional missing)",
    "path": "/profile/123/settings",
    "urlPattern": "/profile/:id/:tab?/settings",
    "expected": {
      "success": true,
      "params": {
        "id": "123",
        "tab": null
      }
    }
  },
  {
    "description": "Dynamic followed by optional and static provided",
    "path": "/profile/123/overview/settings",
    "urlPattern": "/profile/:id/:tab?/settings",
    "expected": {
      "success": true,
      "params": {
        "id": "123",
        "tab": "overview"
      }
    }
  },
  {
    "description": "Dynamic with optional in middle and wildcard provided",
    "path": "/news/local/update/today",
    "urlPattern": "/news/:region?/update/*",
    "expected": {
      "success": true,
      "params": {
        "region": "local",
        "wildcard": "today"
      }
    }
  },
  {
    "description": "Dynamic with optional in middle missing and wildcard",
    "path": "/news/update/today",
    "urlPattern": "/news/:region?/update/*",
    "expected": {
      "success": true,
      "params": {
        "region": null,
        "wildcard": "today"
      }
    }
  },
  {
    "description": "Static route with extra dynamic segment failure",
    "path": "/faq/general",
    "urlPattern": "/faq/:section",
    "expected": {
      "success": true,
      "params": {
        "section": "general"
      }
    }
  },
  {
    "description": "Static route with missing dynamic segment failure",
    "path": "/faq",
    "urlPattern": "/faq/:section",
    "expected": {
      "success": false,
      "params": {}
    }
  },
  {
    "description": "Static route with missing dynamic segment failure",
    "path": "/faq/xxx",
    "urlPattern": "/faq/:section?/:test",
    "expected": {
      "success": true,
      "params": {
        "section": null,
        "test": "xxx"
      }
    }
  },
  {
    "description": "Multiple dynamics with optional in middle provided (correct count)",
    "path": "/shop/men/sale/shoes",
    "urlPattern": "/shop/:gender/:category?/:item",
    "expected": {
      "success": true,
      "params": {
        "gender": "men",
        "category": "sale",
        "item": "shoes"
      }
    }
  },
  {
    "description": "Dynamic with similar adjacent static segments mismatch",
    "path": "/store/a/b",
    "urlPattern": "/store/:param/a",
    "expected": {
      "success": false,
      "params": {}
    }
  },
  {
    "description": "Dynamic with similar adjacent static segments provided",
    "path": "/store/x/a",
    "urlPattern": "/store/:param/a",
    "expected": {
      "success": true,
      "params": {
        "param": "x"
      }
    }
  },
  {
    "description": "Optional dynamic with adjacent static missing (should be null)",
    "path": "/blog/latest",
    "urlPattern": "/blog/:category?/latest",
    "expected": {
      "success": true,
      "params": {
        "category": null
      }
    }
  },
  {
    "description": "Optional dynamic provided with adjacent static",
    "path": "/blog/tech/latest",
    "urlPattern": "/blog/:category?/latest",
    "expected": {
      "success": true,
      "params": {
        "category": "tech"
      }
    }
  },
  {
    "description": "Dynamic followed by static with optional missing",
    "path": "/offer/blackfriday",
    "urlPattern": "/offer/:deal?/blackfriday",
    "expected": {
      "success": true,
      "params": {
        "deal": null
      }
    }
  },
  {
    "description": "Dynamic followed by static with optional provided",
    "path": "/offer/special/blackfriday",
    "urlPattern": "/offer/:deal?/blackfriday",
    "expected": {
      "success": true,
      "params": {
        "deal": "special"
      }
    }
  },
  {
    "description": "Wildcard at end with optional dynamic in front provided",
    "path": "/promo/holiday/sale",
    "urlPattern": "/promo/:season?/*",
    "expected": {
      "success": true,
      "params": {
        "season": "holiday",
        "wildcard": "sale"
      }
    }
  },
  {
    "description": "Wildcard at end with optional dynamic in front missing",
    "path": "/promo/sale",
    "urlPattern": "/promo/:season?/*",
    "expected": {
      "success": true,
      "params": {
        "season": null,
        "wildcard": "sale"
      }
    }
  },
  {
    "description": "Static route exact match with multiple segments",
    "path": "/info/details",
    "urlPattern": "/info/details",
    "expected": {
      "success": true,
      "params": {}
    }
  },
  {
    "description": "Dynamic route with trailing question mark in path",
    "path": "/search/what?",
    "urlPattern": "/search/:query",
    "expected": {
      "success": true,
      "params": {
        "query": "what?"
      }
    }
  },
  {
    "description": "Dynamic route with URL encoded characters",
    "path": "/search/hello%20world",
    "urlPattern": "/search/:query",
    "expected": {
      "success": true,
      "params": {
        "query": "hello%20world"
      }
    }
  },
  {
    "description": "Optional dynamic with URL encoded missing",
    "path": "/search",
    "urlPattern": "/search/:query?",
    "expected": {
      "success": true,
      "params": {
        "query": null
      }
    }
  },
  {
    "description": "Dynamic with multiple numeric segments",
    "path": "/stats/2021/09/30",
    "urlPattern": "/stats/:year/:month/:day",
    "expected": {
      "success": true,
      "params": {
        "year": "2021",
        "month": "09",
        "day": "30"
      }
    }
  },
  {
    "description": "Dynamic with multiple numeric segments missing one",
    "path": "/stats/2021/09",
    "urlPattern": "/stats/:year/:month/:day",
    "expected": {
      "success": false,
      "params": {}
    }
  },
  {
    "description": "Optional dynamics with mixed types provided",
    "path": "/mix/alpha/123",
    "urlPattern": "/mix/:text?/:num?",
    "expected": {
      "success": true,
      "params": {
        "text": "alpha",
        "num": "123"
      }
    }
  },
  {
    "description": "Optional dynamics with one missing (mixed types)",
    "path": "/mix/alpha",
    "urlPattern": "/mix/:text?/:num?",
    "expected": {
      "success": true,
      "params": {
        "text": "alpha",
        "num": null
      }
    }
  },
  {
    "description": "Optional dynamics with both missing (mixed types)",
    "path": "/mix",
    "urlPattern": "/mix/:text?/:num?",
    "expected": {
      "success": true,
      "params": {
        "text": null,
        "num": null
      }
    }
  },
  {
    "description": "Dynamic with underscore and hyphen in value",
    "path": "/slug/abc_def-ghi",
    "urlPattern": "/slug/:id",
    "expected": {
      "success": true,
      "params": {
        "id": "abc_def-ghi"
      }
    }
  },
  {
    "description": "Static route with trailing numbers",
    "path": "/version/2.0",
    "urlPattern": "/version/:num",
    "expected": {
      "success": true,
      "params": {
        "num": "2.0"
      }
    }
  },
  {
    "description": "Dynamic optional with trailing numbers missing",
    "path": "/version",
    "urlPattern": "/version/:num?",
    "expected": {
      "success": true,
      "params": {
        "num": null
      }
    }
  },
  {
    "description": "Optional dynamic with special symbol missing",
    "path": "/code",
    "urlPattern": "/code/:val?",
    "expected": {
      "success": true,
      "params": {
        "val": null
      }
    }
  },
  {
    "description": "Multiple dynamics with hyphen and underscore",
    "path": "/user/jane-doe_123/profile",
    "urlPattern": "/user/:username/profile",
    "expected": {
      "success": true,
      "params": {
        "username": "jane-doe_123"
      }
    }
  },
  {
    "description": "Dynamic with similar adjacent values",
    "path": "/cat/dog",
    "urlPattern": "/:animal/:sound",
    "expected": {
      "success": true,
      "params": {
        "animal": "cat",
        "sound": "dog"
      }
    }
  },
  {
    "description": "Optional dynamics with similar adjacent values provided",
    "path": "/cat/dog",
    "urlPattern": "/:animal?/:sound?",
    "expected": {
      "success": true,
      "params": {
        "animal": "cat",
        "sound": "dog"
      }
    }
  },
  {
    "description": "Optional dynamics with one missing (similar adjacent)",
    "path": "/cat",
    "urlPattern": "/:animal?/:sound?",
    "expected": {
      "success": true,
      "params": {
        "animal": "cat",
        "sound": null
      }
    }
  },
  {
    "description": "Static route with similar segments matching exactly",
    "path": "/abc/def",
    "urlPattern": "/abc/def",
    "expected": {
      "success": true,
      "params": {}
    }
  },
  {
    "description": "Static route with similar segments mismatch",
    "path": "/abc/def",
    "urlPattern": "/abc/ghi",
    "expected": {
      "success": false,
      "params": {}
    }
  },
  {
    "description": "Dynamic with multiple dashes in value",
    "path": "/route/this-is-a-test",
    "urlPattern": "/route/:slug",
    "expected": {
      "success": true,
      "params": {
        "slug": "this-is-a-test"
      }
    }
  },
  {
    "description": "Optional dynamic with multiple dashes missing",
    "path": "/route",
    "urlPattern": "/route/:slug?",
    "expected": {
      "success": true,
      "params": {
        "slug": null
      }
    }
  },
  {
    "description": "Dynamic with numbers and letters",
    "path": "/mix/123abc",
    "urlPattern": "/mix/:code",
    "expected": {
      "success": true,
      "params": {
        "code": "123abc"
      }
    }
  },
  {
    "description": "Dynamic with only letters",
    "path": "/mix/abcdef",
    "urlPattern": "/mix/:code",
    "expected": {
      "success": true,
      "params": {
        "code": "abcdef"
      }
    }
  },
  {
    "description": "Static with extra optional causing failure",
    "path": "/end/extra",
    "urlPattern": "/end/:param?",
    "expected": {
      "success": true,
      "params": {
        "param": "extra"
      }
    }
  },
  {
    "description": "Dynamic and static mix with extra dynamic segment",
    "path": "/a/b/c",
    "urlPattern": "/a/:b",
    "expected": {
      "success": false,
      "params": {}
    }
  },
  {
    "description": "Dynamic with trailing optional present, correct count",
    "path": "/a/b/c",
    "urlPattern": "/a/:b/:c?",
    "expected": {
      "success": true,
      "params": {
        "b": "b",
        "c": "c"
      }
    }
  },
  {
    "description": "Dynamic with trailing optional missing but extra segment",
    "path": "/a/b/c/d",
    "urlPattern": "/a/:b/:c?",
    "expected": {
      "success": false,
      "params": {}
    }
  },
  {
    "description": "Optional dynamic at start with static following provided",
    "path": "/welcome/home",
    "urlPattern": "/:greet?/home",
    "expected": {
      "success": true,
      "params": {
        "greet": "welcome"
      }
    }
  },
  {
    "description": "Optional dynamic at start missing with static following",
    "path": "/home",
    "urlPattern": "/:greet?/home",
    "expected": {
      "success": true,
      "params": {
        "greet": null
      }
    }
  },
  {
    "description": "Multiple dynamics with static in between matching",
    "path": "/shop/men/items",
    "urlPattern": "/shop/:gender/items",
    "expected": {
      "success": true,
      "params": {
        "gender": "men"
      }
    }
  },
  {
    "description": "Multiple dynamics with static in between mismatch",
    "path": "/shop/men/products",
    "urlPattern": "/shop/:gender/items",
    "expected": {
      "success": false,
      "params": {}
    }
  },
  {
    "description": "Dynamic with trailing wildcard capturing complex",
    "path": "/blog/2022/may/entry",
    "urlPattern": "/blog/:year/*",
    "expected": {
      "success": true,
      "params": {
        "year": "2022",
        "wildcard": "may/entry"
      }
    }
  },
  {
    "description": "Dynamic with trailing wildcard missing extra",
    "path": "/blog/2022",
    "urlPattern": "/blog/:year/*",
    "expected": {
      "success": false,
      "params": {}
    }
  },
  {
    "description": "Static with all dynamics provided",
    "path": "/a/b/c/d",
    "urlPattern": "/a/:b/:c/:d",
    "expected": {
      "success": true,
      "params": {
        "b": "b",
        "c": "c",
        "d": "d"
      }
    }
  },
  {
    "description": "Static with missing dynamics",
    "path": "/a/b/c",
    "urlPattern": "/a/:b/:c/:d",
    "expected": {
      "success": false,
      "params": {}
    }
  },
  {
    "description": "Optional dynamic in nested route missing",
    "path": "/office/room/101",
    "urlPattern": "/office/:branch?/room/:number",
    "expected": {
      "success": true,
      "params": {
        "branch": null,
        "number": "101"
      }
    }
  },
  {
    "description": "Optional dynamic in nested route provided",
    "path": "/office/main/room/101",
    "urlPattern": "/office/:branch?/room/:number",
    "expected": {
      "success": true,
      "params": {
        "branch": "main",
        "number": "101"
      }
    }
  },
  {
    "description": "Wildcard only, root path empty",
    "path": "",
    "urlPattern": "/*",
    "expected": {
      "success": false,
      "params": {}
    }
  },
  {
    "description": "Complex route without query string",
    "path": "/product/xyz",
    "urlPattern": "/product/:id",
    "expected": {
      "success": true,
      "params": {
        "id": "xyz"
      }
    }
  },
  {
    "description": "Complex route extra segments without wildcard",
    "path": "/product/xyz/details",
    "urlPattern": "/product/:id",
    "expected": {
      "success": false,
      "params": {}
    }
  },
  {
    "description": "Dynamic with optional and extra static matching",
    "path": "/promo/summer/deals",
    "urlPattern": "/promo/:season/deals",
    "expected": {
      "success": true,
      "params": {
        "season": "summer"
      }
    }
  },
  {
    "description": "Dynamic with optional and extra static mismatch",
    "path": "/promo/deals",
    "urlPattern": "/promo/:season/deals",
    "expected": {
      "success": false,
      "params": {}
    }
  },
  {
    "description": "Dynamic with optional and extra static provided",
    "path": "/promo/winter/deals",
    "urlPattern": "/promo/:season/deals",
    "expected": {
      "success": true,
      "params": {
        "season": "winter"
      }
    }
  },
  {
    "description": "Optional dynamic with extra static provided (season missing)",
    "path": "/promo/deals",
    "urlPattern": "/promo/:season?/deals",
    "expected": {
      "success": true,
      "params": {
        "season": null
      }
    }
  },
  {
    "description": "Dynamic with trailing static optional provided",
    "path": "/ticket/123/confirm",
    "urlPattern": "/ticket/:id/:action?",
    "expected": {
      "success": true,
      "params": {
        "id": "123",
        "action": "confirm"
      }
    }
  },
  {
    "description": "Dynamic with trailing static optional missing",
    "path": "/ticket/123",
    "urlPattern": "/ticket/:id/:action?",
    "expected": {
      "success": true,
      "params": {
        "id": "123",
        "action": null
      }
    }
  },
  {
    "description": "Static route with numbers and letters matching",
    "path": "/v1/api",
    "urlPattern": "/v1/api",
    "expected": {
      "success": true,
      "params": {}
    }
  },
  {
    "description": "Static route with numbers and letters mismatch",
    "path": "/v1/api",
    "urlPattern": "/v2/api",
    "expected": {
      "success": false,
      "params": {}
    }
  },
  {
    "description": "Dynamic with trailing special characters",
    "path": "/note/!important",
    "urlPattern": "/note/:id",
    "expected": {
      "success": true,
      "params": {
        "id": "!important"
      }
    }
  },
  {
    "description": "Optional dynamic with trailing special characters missing",
    "path": "/note",
    "urlPattern": "/note/:id?",
    "expected": {
      "success": true,
      "params": {
        "id": null
      }
    }
  },
  {
    "description": "Multiple dynamics with similar names all same",
    "path": "/a/a/a",
    "urlPattern": "/:x/:y/:z",
    "expected": {
      "success": true,
      "params": {
        "x": "a",
        "y": "a",
        "z": "a"
      }
    }
  },
  {
    "description": "Optional dynamics all missing with empty path segments",
    "path": "/",
    "urlPattern": "/:x?/:y?/:z?",
    "expected": {
      "success": true,
      "params": {
        "x": null,
        "y": null,
        "z": null
      }
    }
  },
  {
    "description": "Complex route with mix of dynamics, optionals, wildcard",
    "path": "/shop/men/clothing/shirts/casual",
    "urlPattern": "/shop/:gender?/:category/*",
    "expected": {
      "success": true,
      "params": {
        "gender": "men",
        "category": "clothing",
        "wildcard": "shirts/casual"
      }
    }
  },
  {
    "description": "Complex route with mix missing optional dynamic",
    "path": "/shop/clothing/shirts/casual",
    "urlPattern": "/shop/:gender?/:category/*",
    "expected": {
      "success": true,
      "params": {
        "gender": "clothing",
        "category": "shirts",
        "wildcard": "casual"
      }
    }
  },
  {
    "description": "Static route with one segment match",
    "path": "/hello",
    "urlPattern": "/hello",
    "expected": {
      "success": true,
      "params": {}
    }
  },
  {
    "description": "Static route mismatch with one segment",
    "path": "/hello",
    "urlPattern": "/world",
    "expected": {
      "success": false,
      "params": {}
    }
  },
  {
    "description": "Dynamic optional with trailing wildcard and extra segment",
    "path": "/news/local/update/today",
    "urlPattern": "/news/:region?/*",
    "expected": {
      "success": true,
      "params": {
        "region": "local",
        "wildcard": "update/today"
      }
    }
  },
  {
    "description": "Dynamic optional with trailing wildcard and no extra segment",
    "path": "/news/local",
    "urlPattern": "/news/:region?/*",
    "expected": {
      "success": true,
      "params": {
        "region": null,
        "wildcard": "local"
      }
    }
  },
  {
    "description": "Dynamic optional missing with trailing wildcard",
    "path": "/news",
    "urlPattern": "/news/:region?/*",
    "expected": {
      "success": false,
      "params": {}
    }
  },
  {
    "description": "Dynamic with adjacent static matching",
    "path": "/alpha/beta",
    "urlPattern": "/:first/beta",
    "expected": {
      "success": true,
      "params": {
        "first": "alpha"
      }
    }
  },
  {
    "description": "Dynamic with adjacent static mismatch",
    "path": "/alpha/gamma",
    "urlPattern": "/:first/beta",
    "expected": {
      "success": false,
      "params": {}
    }
  },
  {
    "description": "Optional dynamic with extra slash",
    "path": "/test/",
    "urlPattern": "/test/:param?",
    "expected": {
      "success": true,
      "params": {
        "param": null
      }
    }
  },
  {
    "description": "Dynamic with extra slash at end",
    "path": "/test/value/",
    "urlPattern": "/test/:param",
    "expected": {
      "success": true,
      "params": {
        "param": "value"
      }
    }
  },
  {
    "description": "Dynamic with space in value",
    "path": "/hello/John Doe",
    "urlPattern": "/hello/:name",
    "expected": {
      "success": true,
      "params": {
        "name": "John Doe"
      }
    }
  },
  {
    "description": "Optional dynamic with space missing",
    "path": "/hello",
    "urlPattern": "/hello/:name?",
    "expected": {
      "success": true,
      "params": {
        "name": null
      }
    }
  },
  {
    "description": "Wildcard capturing trailing spaces",
    "path": "/files/ data ",
    "urlPattern": "/files/*",
    "expected": {
      "success": true,
      "params": {
        "wildcard": " data "
      }
    }
  },
  {
    "description": "Static route with special characters match",
    "path": "/!@#$",
    "urlPattern": "/!@#$",
    "expected": {
      "success": true,
      "params": {}
    }
  },
  {
    "description": "Static route with special characters mismatch",
    "path": "/!@#$",
    "urlPattern": "/%^&*",
    "expected": {
      "success": false,
      "params": {}
    }
  },
  {
    "description": "Dynamic with emoji in value",
    "path": "/emoji/",
    "urlPattern": "/emoji/:icon",
    "expected": {
      "success": true,
      "params": {
        "icon": ""
      }
    }
  },
  {
    "description": "Optional dynamic with emoji missing",
    "path": "/emoji",
    "urlPattern": "/emoji/:icon?",
    "expected": {
      "success": true,
      "params": {
        "icon": null
      }
    }
  },
  {
    "description": "Complex route with numbers, letters, and special characters",
    "path": "/mix/123-abc_456/!special",
    "urlPattern": "/mix/:code/:detail",
    "expected": {
      "success": true,
      "params": {
        "code": "123-abc_456",
        "detail": "!special"
      }
    }
  },
  {
    "description": "Dynamic with URL encoded dash",
    "path": "/search/a%2Db",
    "urlPattern": "/search/:term",
    "expected": {
      "success": true,
      "params": {
        "term": "a%2Db"
      }
    }
  },
  {
    "description": "Dynamic with multiple URL encoded parts",
    "path": "/search/hello%20world",
    "urlPattern": "/search/:term",
    "expected": {
      "success": true,
      "params": {
        "term": "hello%20world"
      }
    }
  },
  {
    "description": "Dynamic with multiple URL encoded parts",
    "path": "/user/123/profile",
    "urlPattern": "/user/:id?/profile",
    "expected": {
      "success": true,
      "params": {
        "id": "123"
      }
    }
  },
  {
    "description": "Dynamic with multiple URL encoded parts",
    "path": "/user/123/profile",
    "urlPattern": "/user/:id?",
    "expected": {
      "success": false,
      "params": {}
    }
  },
  {
    "description": "Optional dynamic with URL encoding missing",
    "path": "/search",
    "urlPattern": "/search/:term?",
    "expected": {
      "success": true,
      "params": {
        "term": null
      }
    }
  },
  {
    "description": "Static route with multiple segments matching exactly",
    "path": "/this/is/a/test",
    "urlPattern": "/this/is/a/test",
    "expected": {
      "success": true,
      "params": {}
    }
  },
  {
    "description": "Static route with multiple segments mismatch",
    "path": "/this/is/a/test",
    "urlPattern": "/this/is/a/fail",
    "expected": {
      "success": false,
      "params": {}
    }
  },
  {
    "description": "Multiple optional dynamics provided",
    "path": "/a/b/c/d",
    "urlPattern": "/:p1?/:p2?/:p3?/:p4?",
    "expected": {
      "success": true,
      "params": {
        "p1": "a",
        "p2": "b",
        "p3": "c",
        "p4": "d"
      }
    }
  },
  {
    "description": "Multiple optional dynamics partially provided",
    "path": "/a/b",
    "urlPattern": "/:p1?/:p2?/:p3?/:p4?",
    "expected": {
      "success": true,
      "params": {
        "p1": "a",
        "p2": "b",
        "p3": null,
        "p4": null
      }
    }
  },
  {
    "description": "Multiple optional dynamics all missing",
    "path": "/",
    "urlPattern": "/:p1?/:p2?/:p3?/:p4?",
    "expected": {
      "success": true,
      "params": {
        "p1": null,
        "p2": null,
        "p3": null,
        "p4": null
      }
    }
  },
  {
    "description": "Static route with underscore and dash",
    "path": "/user_profile-info",
    "urlPattern": "/user_profile-info",
    "expected": {
      "success": true,
      "params": {}
    }
  },
  {
    "description": "Dynamic segment with underscore and dash",
    "path": "/user/john_doe-info",
    "urlPattern": "/user/:username",
    "expected": {
      "success": true,
      "params": {
        "username": "john_doe-info"
      }
    }
  },
  {
    "description": "Optional dynamic with underscore and dash missing",
    "path": "/user",
    "urlPattern": "/user/:username?",
    "expected": {
      "success": true,
      "params": {
        "username": null
      }
    }
  },
  {
    "description": "Dynamic with leading number",
    "path": "/123start",
    "urlPattern": "/:token",
    "expected": {
      "success": true,
      "params": {
        "token": "123start"
      }
    }
  },
  {
    "description": "Dynamic with trailing number",
    "path": "/end456",
    "urlPattern": "/:token",
    "expected": {
      "success": true,
      "params": {
        "token": "end456"
      }
    }
  },
  {
    "description": "Static route with alphanumeric matching",
    "path": "/abc123",
    "urlPattern": "/abc123",
    "expected": {
      "success": true,
      "params": {}
    }
  },
  {
    "description": "Dynamic with mixed case",
    "path": "/MiXeD/Case",
    "urlPattern": "/:first/:second",
    "expected": {
      "success": true,
      "params": {
        "first": "MiXeD",
        "second": "Case"
      }
    }
  },
  {
    "description": "Optional dynamics with mixed case missing",
    "path": "/MiXeD",
    "urlPattern": "/:first/:second?",
    "expected": {
      "success": true,
      "params": {
        "first": "MiXeD",
        "second": null
      }
    }
  },
  {
    "description": "Dynamic with similar static parts matching",
    "path": "/one/two/three",
    "urlPattern": "/one/:param/three",
    "expected": {
      "success": true,
      "params": {
        "param": "two"
      }
    }
  },
  {
    "description": "Dynamic with similar static parts mismatch",
    "path": "/one/two/four",
    "urlPattern": "/one/:param/three",
    "expected": {
      "success": false,
      "params": {}
    }
  },
  {
    "description": "Optional dynamic with similar static parts missing",
    "path": "/one/three",
    "urlPattern": "/one/:param?/three",
    "expected": {
      "success": true,
      "params": {
        "param": null
      }
    }
  },
  {
    "description": "Wildcard with multiple nested levels",
    "path": "/nested/level1/level2/level3",
    "urlPattern": "/nested/*",
    "expected": {
      "success": true,
      "params": {
        "wildcard": "level1/level2/level3"
      }
    }
  },
  {
    "description": "Dynamic with long string value",
    "path": "/long/aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa",
    "urlPattern": "/long/:val",
    "expected": {
      "success": true,
      "params": {
        "val": "aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa"
      }
    }
  },
  {
    "description": "Dynamic with long string value missing segment",
    "path": "/long",
    "urlPattern": "/long/:val",
    "expected": {
      "success": false,
      "params": {}
    }
  },
  {
    "description": "Optional dynamic with long string value provided",
    "path": "/long/aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa",
    "urlPattern": "/long/:val?",
    "expected": {
      "success": true,
      "params": {
        "val": "aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa"
      }
    }
  },
  {
    "description": "Optional dynamic with long string value missing",
    "path": "/long",
    "urlPattern": "/long/:val?",
    "expected": {
      "success": true,
      "params": {
        "val": null
      }
    }
  },
  {
    "description": "Complex route with numbers and text provided",
    "path": "/order/987/item/654",
    "urlPattern": "/order/:orderId/item/:itemId",
    "expected": {
      "success": true,
      "params": {
        "orderId": "987",
        "itemId": "654"
      }
    }
  },
  {
    "description": "Complex route with numbers and text missing one",
    "path": "/order/987/item",
    "urlPattern": "/order/:orderId/item/:itemId",
    "expected": {
      "success": false,
      "params": {}
    }
  },
  {
    "description": "Dynamic with slash encoded as %2F",
    "path": "/path/a%2Fb",
    "urlPattern": "/path/:val",
    "expected": {
      "success": true,
      "params": {
        "val": "a%2Fb"
      }
    }
  },
  {
    "description": "Dynamic with space and plus in value",
    "path": "/query/hello+world",
    "urlPattern": "/query/:term",
    "expected": {
      "success": true,
      "params": {
        "term": "hello+world"
      }
    }
  },
  {
    "description": "Dynamic with underscore only",
    "path": "/test/___",
    "urlPattern": "/test/:val",
    "expected": {
      "success": true,
      "params": {
        "val": "___"
      }
    }
  },
  {
    "description": "Dynamic with underscore only",
    "path": "/user",
    "urlPattern": "/user/:id?",
    "expected": {
      "success": true,
      "params": {
        "id": null
      }
    }
  },
  {
    "description": "Dynamic with underscore only",
    "path": "/user/profile",
    "urlPattern": "/user/:id?/profile",
    "expected": {
      "success": true,
      "params": {
        "id": null
      }
    }
  },
  {
    "description": "Dynamic with trailing underscore only",
    "path": "/test/___",
    "urlPattern": "/test/:val",
    "expected": {
      "success": true,
      "params": {
        "val": "___"
      }
    }
  },
  {
    "description": "Empty path with wildcard only",
    "path": "",
    "urlPattern": "/*",
    "expected": {
      "success": false,
      "params": {}
    }
  },
  {
    "description": "Static exact match",
    "path": "/about",
    "urlPattern": "/about",
    "expected": {
      "success": true,
      "params": {}
    }
  },
  {
    "description": "Static mismatch",
    "path": "/about/us",
    "urlPattern": "/about",
    "expected": {
      "success": false,
      "params": {}
    }
  },
  {
    "description": "Required dynamic segment provided",
    "path": "/user/123",
    "urlPattern": "/user/:id",
    "expected": {
      "success": true,
      "params": {
        "id": "123"
      }
    }
  },
  {
    "description": "Required dynamic segment missing",
    "path": "/user",
    "urlPattern": "/user/:id",
    "expected": {
      "success": false,
      "params": {}
    }
  },
  {
    "description": "Optional dynamic provided",
    "path": "/user/123",
    "urlPattern": "/user/:id?",
    "expected": {
      "success": true,
      "params": {
        "id": "123"
      }
    }
  },
  {
    "description": "Optional dynamic missing",
    "path": "/user",
    "urlPattern": "/user/:id?",
    "expected": {
      "success": true,
      "params": {
        "id": null
      }
    }
  },
  {
    "description": "Multiple dynamics provided",
    "path": "/user/42/post/100",
    "urlPattern": "/user/:userId/post/:postId",
    "expected": {
      "success": true,
      "params": {
        "userId": "42",
        "postId": "100"
      }
    }
  },
  {
    "description": "Multiple dynamics missing one",
    "path": "/user/42/post",
    "urlPattern": "/user/:userId/post/:postId",
    "expected": {
      "success": false,
      "params": {}
    }
  },
  {
    "description": "Wildcard at end capturing extra segments",
    "path": "/files/path/to/file",
    "urlPattern": "/files/*",
    "expected": {
      "success": true,
      "params": {
        "wildcard": "path/to/file"
      }
    }
  },
  {
    "description": "Wildcard at end with no extra segments",
    "path": "/files",
    "urlPattern": "/files/*",
    "expected": {
      "success": false,
      "params": {}
    }
  },
  {
    "description": "Wildcard in middle with trailing static matching",
    "path": "/media/videos/movies/action",
    "urlPattern": "/media/*/action",
    "expected": {
      "success": true,
      "params": {
        "wildcard": "videos/movies"
      }
    }
  },
  {
    "description": "Wildcard in middle with trailing static mismatch",
    "path": "/media/videos/movies/fun",
    "urlPattern": "/media/*/action",
    "expected": {
      "success": false,
      "params": {}
    }
  },
  {
    "description": "Dynamic with trailing static matching",
    "path": "/order/789/track",
    "urlPattern": "/order/:id/track",
    "expected": {
      "success": true,
      "params": {
        "id": "789"
      }
    }
  },
  {
    "description": "Dynamic with trailing static mismatch",
    "path": "/order/789/cancel",
    "urlPattern": "/order/:id/track",
    "expected": {
      "success": false,
      "params": {}
    }
  },
  {
    "description": "Optional dynamic with trailing static provided",
    "path": "/checkout/payment/complete",
    "urlPattern": "/checkout/:step?/complete",
    "expected": {
      "success": true,
      "params": {
        "step": "payment"
      }
    }
  },
  {
    "description": "Optional dynamic with trailing static missing",
    "path": "/checkout/complete",
    "urlPattern": "/checkout/:step?/complete",
    "expected": {
      "success": true,
      "params": {
        "step": null
      }
    }
  },
  {
    "description": "Complex pattern with multiple dynamics matching",
    "path": "/store/567/product/890",
    "urlPattern": "/store/:storeId/product/:productId",
    "expected": {
      "success": true,
      "params": {
        "storeId": "567",
        "productId": "890"
      }
    }
  },
  {
    "description": "Complex pattern with extra segment failure",
    "path": "/store/567/product/890/review",
    "urlPattern": "/store/:storeId/product/:productId",
    "expected": {
      "success": false,
      "params": {}
    }
  },
  {
    "description": "Optional dynamic in middle provided",
    "path": "/shop/electronics/phones",
    "urlPattern": "/shop/:category?/phones",
    "expected": {
      "success": true,
      "params": {
        "category": "electronics"
      }
    }
  },
  {
    "description": "Optional dynamic in middle missing",
    "path": "/shop/phones",
    "urlPattern": "/shop/:category?/phones",
    "expected": {
      "success": true,
      "params": {
        "category": null
      }
    }
  },
  {
    "description": "Dynamic at beginning provided",
    "path": "/123/dashboard",
    "urlPattern": "/:userId/dashboard",
    "expected": {
      "success": true,
      "params": {
        "userId": "123"
      }
    }
  },
  {
    "description": "Dynamic at beginning missing",
    "path": "/dashboard",
    "urlPattern": "/:userId/dashboard",
    "expected": {
      "success": false,
      "params": {}
    }
  },
  {
    "description": "Optional dynamic at beginning provided",
    "path": "/alice/home",
    "urlPattern": "/:username?/home",
    "expected": {
      "success": true,
      "params": {
        "username": "alice"
      }
    }
  },
  {
    "description": "Optional dynamic at beginning missing",
    "path": "/home",
    "urlPattern": "/:username?/home",
    "expected": {
      "success": true,
      "params": {
        "username": null
      }
    }
  },
  {
    "description": "Static with dynamic combination matching",
    "path": "/profile/john",
    "urlPattern": "/profile/:username",
    "expected": {
      "success": true,
      "params": {
        "username": "john"
      }
    }
  },
  {
    "description": "Static with dynamic combination failure",
    "path": "/profile/john/settings",
    "urlPattern": "/profile/:username",
    "expected": {
      "success": false,
      "params": {}
    }
  },
  {
    "description": "Dynamic in nested folder provided",
    "path": "/blog/2022/awesome-post",
    "urlPattern": "/blog/:year/:slug",
    "expected": {
      "success": true,
      "params": {
        "year": "2022",
        "slug": "awesome-post"
      }
    }
  },
  {
    "description": "Dynamic in nested folder missing",
    "path": "/blog/2022",
    "urlPattern": "/blog/:year/:slug",
    "expected": {
      "success": false,
      "params": {}
    }
  },
  {
    "description": "Static with numeric segments matching",
    "path": "/2021/summary",
    "urlPattern": "/2021/summary",
    "expected": {
      "success": true,
      "params": {}
    }
  },
  {
    "description": "Static with numeric segments mismatch",
    "path": "/2021/report",
    "urlPattern": "/2021/summary",
    "expected": {
      "success": false,
      "params": {}
    }
  },
  {
    "description": "Multiple dynamics with numeric and text matching",
    "path": "/order/789/item/456",
    "urlPattern": "/order/:orderId/item/:itemId",
    "expected": {
      "success": true,
      "params": {
        "orderId": "789",
        "itemId": "456"
      }
    }
  },
  {
    "description": "Wildcard in middle capturing multiple segments",
    "path": "/media/videos/movies/action",
    "urlPattern": "/media/*/action",
    "expected": {
      "success": true,
      "params": {
        "wildcard": "videos/movies"
      }
    }
  },
  {
    "description": "Wildcard in middle capturing part",
    "path": "/api/v1/users/list",
    "urlPattern": "/api/*/list",
    "expected": {
      "success": true,
      "params": {
        "wildcard": "v1/users"
      }
    }
  },
  {
    "description": "Dynamic followed by static with mismatch",
    "path": "/order/555/confirm",
    "urlPattern": "/order/:id/complete",
    "expected": {
      "success": false,
      "params": {}
    }
  },
  {
    "description": "Multiple dynamic segments matching",
    "path": "/a/b/c",
    "urlPattern": "/:x/:y/:z",
    "expected": {
      "success": true,
      "params": {
        "x": "a",
        "y": "b",
        "z": "c"
      }
    }
  },
  {
    "description": "Multiple dynamic segments missing one",
    "path": "/a/b",
    "urlPattern": "/:x/:y/:z",
    "expected": {
      "success": false,
      "params": {}
    }
  },
  {
    "description": "Optional dynamic in middle provided",
    "path": "/a/b/c",
    "urlPattern": "/a/:mid?/c",
    "expected": {
      "success": true,
      "params": {
        "mid": "b"
      }
    }
  },
  {
    "description": "Optional dynamic in middle missing",
    "path": "/a/c",
    "urlPattern": "/a/:mid?/c",
    "expected": {
      "success": true,
      "params": {
        "mid": null
      }
    }
  },
  {
    "description": "Dynamic and wildcard combination",
    "path": "/a/b/c/d",
    "urlPattern": "/a/:param/*",
    "expected": {
      "success": true,
      "params": {
        "param": "b",
        "wildcard": "c/d"
      }
    }
  },
  {
    "description": "Wildcard only route with extra segments",
    "path": "/foo/bar/baz",
    "urlPattern": "/foo/*",
    "expected": {
      "success": true,
      "params": {
        "wildcard": "bar/baz"
      }
    }
  },
  {
    "description": "Dynamic with trailing static segment matching",
    "path": "/foo/bar/baz",
    "urlPattern": "/foo/:param/baz",
    "expected": {
      "success": true,
      "params": {
        "param": "bar"
      }
    }
  },
  {
    "description": "Dynamic with trailing static segment mismatch",
    "path": "/foo/bar/qux",
    "urlPattern": "/foo/:param/baz",
    "expected": {
      "success": false,
      "params": {}
    }
  },
  {
    "description": "Optional dynamic with adjacent static missing",
    "path": "/blog/latest",
    "urlPattern": "/blog/:category?/latest",
    "expected": {
      "success": true,
      "params": {
        "category": null
      }
    }
  },
  {
    "description": "Optional dynamic with adjacent static provided",
    "path": "/blog/tech/latest",
    "urlPattern": "/blog/:category?/latest",
    "expected": {
      "success": true,
      "params": {
        "category": "tech"
      }
    }
  },
  {
    "description": "Dynamic followed by static with optional missing",
    "path": "/offer/blackfriday",
    "urlPattern": "/offer/:deal?/blackfriday",
    "expected": {
      "success": true,
      "params": {
        "deal": null
      }
    }
  },
  {
    "description": "Dynamic followed by static with optional provided",
    "path": "/offer/special/blackfriday",
    "urlPattern": "/offer/:deal?/blackfriday",
    "expected": {
      "success": true,
      "params": {
        "deal": "special"
      }
    }
  },
  {
    "description": "Wildcard at beginning capturing entire path",
    "path": "/anything/goes/here",
    "urlPattern": "/*",
    "expected": {
      "success": true,
      "params": {
        "wildcard": "anything/goes/here"
      }
    }
  },
  {
    "description": "Dynamic with double wildcard",
    "path": "/api/v1/resource/extra/info",
    "urlPattern": "/api/:version/*",
    "expected": {
      "success": true,
      "params": {
        "version": "v1",
        "wildcard": "resource/extra/info"
      }
    }
  },
  {
    "description": "Dynamic with extra segments and no wildcard",
    "path": "/api/v1/resource",
    "urlPattern": "/api/:version",
    "expected": {
      "success": false,
      "params": {}
    }
  },
  {
    "description": "Static route with trailing static segment match",
    "path": "/store/cart/checkout",
    "urlPattern": "/store/cart/checkout",
    "expected": {
      "success": true,
      "params": {}
    }
  },
  {
    "description": "Static route with trailing static segment mismatch",
    "path": "/store/cart/pay",
    "urlPattern": "/store/cart/checkout",
    "expected": {
      "success": false,
      "params": {}
    }
  },
  {
    "description": "Dynamic segment with underscore",
    "path": "/user/john_doe",
    "urlPattern": "/user/:username",
    "expected": {
      "success": true,
      "params": {
        "username": "john_doe"
      }
    }
  },
  {
    "description": "Dynamic segment with dot",
    "path": "/file/report.pdf",
    "urlPattern": "/file/:filename",
    "expected": {
      "success": true,
      "params": {
        "filename": "report.pdf"
      }
    }
  },
  {
    "description": "Optional dynamic with dot provided",
    "path": "/version/1.0",
    "urlPattern": "/version/:num?",
    "expected": {
      "success": true,
      "params": {
        "num": "1.0"
      }
    }
  },
  {
    "description": "Optional dynamic with dot missing",
    "path": "/version",
    "urlPattern": "/version/:num?",
    "expected": {
      "success": true,
      "params": {
        "num": null
      }
    }
  },
  {
    "description": "Static with multiple trailing slashes",
    "path": "/docs///",
    "urlPattern": "/docs",
    "expected": {
      "success": true,
      "params": {}
    }
  },
  {
    "description": "Dynamic with extra slash",
    "path": "/docs/guide/",
    "urlPattern": "/docs/:topic",
    "expected": {
      "success": true,
      "params": {
        "topic": "guide"
      }
    }
  },
  {
    "description": "Optional dynamic with extra slashes",
    "path": "/docs/",
    "urlPattern": "/docs/:topic?",
    "expected": {
      "success": true,
      "params": {
        "topic": null
      }
    }
  },
  {
    "description": "Wildcard in a complex route",
    "path": "/assets/js/app/main.js",
    "urlPattern": "/assets/*",
    "expected": {
      "success": true,
      "params": {
        "wildcard": "js/app/main.js"
      }
    }
  },
  {
    "description": "Dynamic in nested folder provided",
    "path": "/blog/2022/awesome-post",
    "urlPattern": "/blog/:year/:slug",
    "expected": {
      "success": true,
      "params": {
        "year": "2022",
        "slug": "awesome-post"
      }
    }
  },
  {
    "description": "Dynamic in nested folder missing",
    "path": "/blog/2022",
    "urlPattern": "/blog/:year/:slug",
    "expected": {
      "success": false,
      "params": {}
    }
  },
  {
    "description": "Static with numeric dynamic matching",
    "path": "/code/404",
    "urlPattern": "/code/:error",
    "expected": {
      "success": true,
      "params": {
        "error": "404"
      }
    }
  },
  {
    "description": "Static with numeric dynamic mismatch",
    "path": "/code/200",
    "urlPattern": "/code/404",
    "expected": {
      "success": false,
      "params": {}
    }
  },
  {
    "description": "Dynamic with hyphen in value",
    "path": "/category/health-fitness",
    "urlPattern": "/category/:name",
    "expected": {
      "success": true,
      "params": {
        "name": "health-fitness"
      }
    }
  },
  {
    "description": "Dynamic with hyphen missing",
    "path": "/category",
    "urlPattern": "/category/:name",
    "expected": {
      "success": false,
      "params": {}
    }
  },
  {
    "description": "Optional dynamic with hyphen provided",
    "path": "/tag/tech-news",
    "urlPattern": "/tag/:tagName?",
    "expected": {
      "success": true,
      "params": {
        "tagName": "tech-news"
      }
    }
  },
  {
    "description": "Optional dynamic with hyphen missing",
    "path": "/tag",
    "urlPattern": "/tag/:tagName?",
    "expected": {
      "success": true,
      "params": {
        "tagName": null
      }
    }
  },
  {
    "description": "Complex route with multiple optionals provided",
    "path": "/music/rock/70s",
    "urlPattern": "/music/:genre?/:decade?",
    "expected": {
      "success": true,
      "params": {
        "genre": "rock",
        "decade": "70s"
      }
    }
  },
  {
    "description": "Complex route with one optional missing",
    "path": "/music/rock",
    "urlPattern": "/music/:genre?/:decade?",
    "expected": {
      "success": true,
      "params": {
        "genre": "rock",
        "decade": null
      }
    }
  },
  {
    "description": "Complex route with both optionals missing",
    "path": "/music",
    "urlPattern": "/music/:genre?/:decade?",
    "expected": {
      "success": true,
      "params": {
        "genre": null,
        "decade": null
      }
    }
  },
  {
    "description": "Dynamic with trailing number",
    "path": "/invoice/2021",
    "urlPattern": "/invoice/:num",
    "expected": {
      "success": true,
      "params": {
        "num": "2021"
      }
    }
  },
  {
    "description": "Dynamic with trailing text mismatch",
    "path": "/invoice/2021/paid",
    "urlPattern": "/invoice/:num",
    "expected": {
      "success": false,
      "params": {}
    }
  },
  {
    "description": "Dynamic with trailing text mismatch",
    "path": "/invoice/2021/paid",
    "urlPattern": "/invoice/:num",
    "expected": {
      "success": false,
      "params": {}
    }
  },
  {
    "description": "Wildcard capturing multiple subdirectories",
    "path": "/docs/api/v1/overview",
    "urlPattern": "/docs/*",
    "expected": {
      "success": true,
      "params": {
        "wildcard": "api/v1/overview"
      }
    }
  },
  {
    "description": "Wildcard capturing multiple subdirectories",
    "path": "/docs/api/v1/overview",
    "urlPattern": "/docs/api/v1/overview",
    "expected": {
      "success": true,
      "params": {}
    }
  },
  {
    "description": "Optional dynamics with mixed types provided",
    "path": "/mix/alpha",
    "urlPattern": "/mix/:text?/:num?",
    "expected": {
      "success": true,
      "params": {
        "text": "alpha",
        "num": null
      }
    }
  }
]
